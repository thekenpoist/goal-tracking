<div class="max-w-2xl mx-auto mt-8 px-4 relative">
    <form action="/profiles/delete-user<%= session.userUuid %>" method="POST" class="absolute top-4 right-4">
        <button
            type="submit"
            onclick="return confirm('Are you sure you want to delete your account? This action cannot be undone.');"
            class="text-red-600 hover:text-red-800 text-sm underline">Delete Account
        </button>
    </form>

    <h1 class="text-2xl font-bold mb-4">Settings</h1>
    <% if (errorMessage) { %>
        <div class="text-red-600 bg-red-100 border border-red-400 p-4 rounded mb-6">
            <%= errorMessage %>
        </div>
    <% } %>

    <% if (successMessage) { %>
        <div class="text-green-600 bg-green-100 border border-green-400 p-4 rounded mb-6">
            <%= successMessage %>
        </div>
    <% } %>

    <form action="/profiles/settings" method="POST" class="space-y-4">
        <div class="mb-4">
            <label for="email" class="block text-gray-700 font-semibold mb-2">Update Email</label>
            <input type="email" id="email" name="email" value="<%= formData?.email || '' %>"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400"
            />
        </div>
        <div class="mb-4">
            <label for="confirmEmail" class="block text-gray-700 font-semibold mb-2">Confirm Email Address</label>
            <input type="email" id="confirmEmail" name="confirmEmail" value="<%= formData?.confirmEmail || '' %>"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400"
            />
        </div>
        <hr class="my-6 border-t-4 border-gray-300"/>
        <div class="mb-4">
            <label for="password" class="block text-gray-700 font-semibold mb-2">Update Password</label>
            <input type="password" id="password" name="password"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400"
            />
        </div>
        <div class="mb-4">
            <label for="confirmPassword" class="block text-gray-700 font-semibold mb-2">Confirm Password</label>
            <input type="password" id="confirmPassword" name="confirmPassword"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400"
            />
        </div>
        <hr class="my-6 border-t-4 border-gray-300"/>
        <!-- Current Password -->
        <div class="mb-4">
            <label for="currentPassword" class="block text-gray-700 font-semibold mb-2">Current Password</label>
            <input type="password" id="currentPassword" name="currentPassword" required
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400" />
        </div>
        <button type="submit" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded">Submit Changes</button>
    </form>
</div>