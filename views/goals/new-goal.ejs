<h1 class="text-2xl font-bold mb-4">Create New Goal</h1>
<% if (errorMessage) { %>
    <div class="text-red-600 bg-red-100 border border-red-400 p-4 rounded mb-6">
        <%= errorMessage %>
    </div>
<% } %>
<form action="/goals" method="POST" class="space-y-4">
    <div class="mb-4">
        <label for="title" class="block text-gray-700 font-semibold mb-2">Goal Title</label>
        <input type="text" id="title" name="title" required value="<%= formData?.title || '' %>"
             class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400"/>  
    </div>
    <div class="mb-4">
        <label for="category" class="block text-gray-700 font-semibold mb-2">Goal Category</label>
        <select id="category" name="category" required
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400">
            <option value="">-- Select a category --</option>
            <option value="Health & Fitness" <%= formData?.category === 'Health & Fitness' ? 'selected' : '' %>>Health & Fitness</option>
            <option value="Career & Work" <%= formData?.category === 'Career & Work' ? 'selected' : '' %>>Career & Work</option>
            <option value="Learning & Education" <%= formData?.category === 'Learning & Education' ? 'selected' : '' %>>Learning & Education</option>
            <option value="Finances" <%= formData?.category === 'Finances' ? 'selected' : '' %>>Finances</option>
            <option value="Relationships & Family" <%= formData?.category === 'Relationships & Family' ? 'selected' : '' %>>Relationships & Family</option>
            <option value="Mind & Spirit" <%= formData?.category === 'Mind & Spirit' ? 'selected' : '' %>>Mind & Spirit</option>
            <option value="Home & Organization" <%= formData?.category === 'Home & Organization' ? 'selected' : '' %>>Home & Organization</option>
            <option value="Creative & Hobbies" <%= formData?.category === 'Creative & Hobbies' ? 'selected' : '' %>>Creative & Hobbies</option>
            <option value="Animal Care & Connection" <%= formData?.category === 'Animal Care & Connection' ? 'selected' : '' %>>Animal Care & Connection</option>
            <option value="Miscellaneous" <%= formData?.category === 'Miscellaneous' ? 'selected' : '' %>>Miscellaneous</option>
        </select>
    </div>
    <div class="mb-4">
        <label for="priority" class="block text-gray-700 font-semibold mb-2">Goal Priority</label>
        <select id="priority" name="priority" required
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400">
            <option value="">-- Select a priority --</option>
            <option value="low" <%= formData?.priority === 'low' ? 'selected' : '' %>>Low</option>
            <option value="medium" <%= formData?.priority === 'medium' ? 'selected' : '' %>>Medium</option>
            <option value="high" <%= formData?.priority === 'high' ? 'selected' : '' %>>High</option>
        </select>
    </div>
    <div class="mb-4">
        <label for="startDate" class="block text-gray-700 font-semibold mb-2">Start Date</label>
        <input type="date" id="startDate" name="startDate"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400"
            value="<%= formData?.startDate ? formData.startDate.toISOString().split('T')[0] : '' %>">
    </div>
    <div class="mb-4">
        <label for="endDate" class="block text-gray-700 font-semibold mb-2">End Date</label>
        <input type="date" id="endDate" name="endDate"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400"
            value="<%= formData?.endDate ? formData.endDate.toISOString().split('T')[0] : '' %>">
    </div>
    <div class="mb-4">
        <label for="description" class="block text-gray-700 font-semibold mb-2">Goal Description</label>
        <textarea id="description" name="description" rows="5"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-yellow-400"><%= formData?.description || '' %></textarea>
    </div>
    <button type="submit" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded">Create Goal</button>
</form>